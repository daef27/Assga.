<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Admin Cursos - ASSGA</title>

<style>

/* ================= GERAL ================= */

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI', sans-serif;
}

body{
  background:linear-gradient(135deg,#001f3f,#003366);
  color:white;
  min-height:100vh;
}

/* ================= LOGIN ================= */

.login-overlay{
  position:fixed;
  width:100%;
  height:100%;
  background:linear-gradient(135deg,#003366,#00aaff);
  display:flex;
  justify-content:center;
  align-items:center;
}

.login-card{
  background:white;
  padding:40px;
  border-radius:20px;
  width:350px;
  text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,0.3);
}

.login-card h2{
  color:#003366;
  margin-bottom:20px;
}

.login-card input{
  width:100%;
  padding:10px;
  margin-bottom:15px;
  border-radius:8px;
  border:1px solid #ccc;
}

.login-card button{
  width:100%;
  padding:10px;
  background:#003366;
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.erro{
  color:red;
  margin-top:10px;
}

/* ================= HEADER ================= */

header{
  text-align:center;
  padding:30px;
}

header h1{
  font-size:28px;
}

header p{
  font-size:14px;
  color:#00ffff;
}

/* ================= FILTRO ================= */

.filtro{
  width:90%;
  margin:20px auto;
}

.filtro select{
  padding:8px;
  border-radius:8px;
}

/* ================= TABELA ================= */

.tabela-container{
  width:90%;
  margin:auto;
  overflow-x:auto;
}

table{
  width:100%;
  border-collapse:collapse;
  background:white;
  color:black;
  border-radius:10px;
  overflow:hidden;
}

th{
  background:#003366;
  color:yellow;
  padding:12px;
}

td{
  padding:12px;
  text-align:center;
}

.vazio{
  padding:20px;
  color:#003366;
  font-weight:bold;
}

.btn-excluir{
  background:red;
  color:white;
  border:none;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
}

/* ================= TOTAL ================= */

.total{
  text-align:center;
  margin:25px;
  font-size:18px;
  color:#00ffff;
}

/* ================= RESPONSIVO ================= */

@media(max-width:768px){

  header h1{
    font-size:20px;
  }

  table{
    min-width:600px;
  }

  .login-card{
    width:90%;
  }

}

</style>
</head>
<body>

<!-- ================= LOGIN ================= -->

<div id="loginOverlay" class="login-overlay">
  <div class="login-card">
    <h2>Login do Administrador</h2>
    <input type="text" id="cpf" placeholder="CPF">
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="loginAdmin()">Entrar</button>
    <p id="msgErro" class="erro"></p>
  </div>
</div>

<!-- ================= PAINEL ================= -->

<div id="painelContent" style="display:none;">

<header>
  <h1>Painel Admin - Cursos</h1>
  <p>Lista de alunos inscritos em tempo real</p>
</header>

<section class="filtro">
  <label>Filtrar por Curso:</label>
  <select id="filtrarCurso" onchange="atualizarTabela()">
    <option value="Todos">Todos</option>
  </select>
</section>

<section class="tabela-container">
  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Curso</th>
        <th>Valor</th>
        <th>Ação</th>
      </tr>
    </thead>
    <tbody id="tabelaBody"></tbody>
  </table>
</section>

<section class="total">
  Total Arrecadado: R$ <span id="totalArrecadado">0.00</span>
</section>

</div>

<script>

/* ================= LOGIN ================= */

const adminCPF = "12345678900";
const adminSenha = "admin123";

function loginAdmin(){
  const cpf = document.getElementById("cpf").value;
  const senha = document.getElementById("senha").value;
  const msg = document.getElementById("msgErro");

  if(cpf === adminCPF && senha === adminSenha){
    document.getElementById("loginOverlay").style.display="none";
    document.getElementById("painelContent").style.display="block";
    atualizarTabela();
  }else{
    msg.innerText="CPF ou senha incorretos!";
  }
}

/* ================= DADOS ================= */

let inscricoes = JSON.parse(localStorage.getItem("inscricoes")) || [];

/* ================= ATUALIZAR TABELA ================= */

function atualizarTabela(){
  const tbody = document.getElementById("tabelaBody");
  const filtro = document.getElementById("filtrarCurso").value;
  tbody.innerHTML="";

  let total = 0;

  let cursos = ["Todos"];

  inscricoes.forEach((item,index)=>{

    if(!cursos.includes(item.curso)){
      cursos.push(item.curso);
    }

    if(filtro==="Todos" || filtro===item.curso){

      total += Number(item.valor);

      tbody.innerHTML += `
        <tr>
          <td>${item.nome}</td>
          <td>${item.email}</td>
          <td>${item.curso}</td>
          <td>R$ ${item.valor}</td>
          <td><button class="btn-excluir" onclick="excluir(${index})">Excluir</button></td>
        </tr>
      `;
    }

  });

  if(tbody.innerHTML===""){
    tbody.innerHTML = `
      <tr>
        <td colspan="5" class="vazio">
          Nenhum aluno inscrito.
        </td>
      </tr>
    `;
  }

  document.getElementById("totalArrecadado").innerText = total.toFixed(2);

  atualizarSelect(cursos);
}

/* ================= ATUALIZAR SELECT ================= */

function atualizarSelect(cursos){
  const select = document.getElementById("filtrarCurso");
  select.innerHTML="";

  cursos.forEach(curso=>{
    select.innerHTML += `<option value="${curso}">${curso}</option>`;
  });
}

/* ================= EXCLUIR ================= */

function excluir(index){
  inscricoes.splice(index,1);
  localStorage.setItem("inscricoes",JSON.stringify(inscricoes));
  atualizarTabela();
}

/* ================= EXEMPLO DE TESTE ================= */
/* Para testar, abra o console e rode:
inscricoes.push({nome:"Marcio",email:"teste@gmail.com",curso:"Básico de Libras",valor:150});
localStorage.setItem("inscricoes",JSON.stringify(inscricoes));
atualizarTabela();
*/

</script>

</body>
</html>